{
  "swagger": "2.0",
  "info": {
    "title": "三方认证",
    "description": "三方认证",
    "version": "v1"
  },
  "basePath": "/api",
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/GoogleCallback": {
      "get": {
        "summary": "回调",
        "operationId": "callback",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CallBackResponse"
            }
          }
        },
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/bind/v1": {
      "post": {
        "summary": "绑定",
        "operationId": "BindUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/BindUserResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BindUserRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/login/v1": {
      "post": {
        "summary": "登录",
        "operationId": "Login",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {}
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/monitor": {
      "get": {
        "summary": "监控",
        "operationId": "monitor",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/MonitorResponse"
            }
          }
        },
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/register/v1": {
      "post": {
        "summary": "注册",
        "operationId": "Register",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {}
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "\tLoginResponse {,\t\tStatus        int           `json:\"status\"`  1 已经绑定 直接登录 2 未绑定 已注册 3 未绑定 未注册,\t\tLoginCode     string        `json:\"loginCode\"`,\t\tLoginMsg      string        `json:\"loginMsg\"`,\t\tLoginData     LoginInfo     `json:\"loginInfo\"`,\t\tDeviceData    DeviceInfo    `json:\"deviceInfo\"`,\t\tTemporaryData TemporaryInfo `json:\"temporaryData\"`,\t},,\tLoginInfo {,\t\tMobileVerify bool   `json:\"mobileVerify\"`,\t\tEmailVerify  bool   `json:\"emailVerify\"`,\t\tToken        string `json:\"token\"`,\t\tMobile       string `json:\"mobile\"`,\t\tCountry      string `json:\"country\"`,\t\tEmail        string `json:\"email\"`,\t\tCode         string `json:\"code\"`  原登录接口 code,\t\tMsg          string `json:\"msg\"`   原登录接口 msg,\t},,\tTemporaryInfo {,\t\tToken      string `json:\"token\"`,\t\tHideMobile string `json:\"hideMobile\"`,\t},\tDeviceInfo {,\t\tMobileVerify bool   `json:\"mobileVerify\"`,\t\tEmailVerify  bool   `json:\"emailVerify\"`,\t\tToken        string `json:\"token\"`,\t\tMobile       string `json:\"mobile\"`,\t\tCountry      string `json:\"country\"`,\t\tEmail        string `json:\"email\"`,\t\tCode         string `json:\"code\"`,\t\tMsg          string `json:\"msg\"`,\t}",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RegisterRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/status/v1": {
      "post": {
        "summary": "绑定状态",
        "operationId": "BindStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/BindStatusResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BindStatusRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/uid/v1": {
      "post": {
        "summary": "获取uid",
        "operationId": "GetUid",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GetUidResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": "\tRegisterResponse {,\t\tRegisterCode string       `json:\"registerCode\"`,\t\tRegisterMsg  string       `json:\"registerMsg\"`,\t\tRegisterData RegisterBody `json:\"registerData\"`,\t},,\tRegisterBody {,\t\tUid         int64  `json:\"uid\"`,\t\tExpire      int64  `json:\"expire\"`,\t\tPointsToken string `json:\"pointsToken\"`,\t\tToken       string `json:\"token\"`,\t}",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/GetUidRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/api/oauth2/unbind/v1": {
      "post": {
        "summary": "取消绑定",
        "operationId": "UnBind",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UnBindResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UnBindRequest"
            }
          }
        ],
        "tags": [
          "apis"
        ]
      }
    },
    "/cointiger/google/callback": {
      "get": {
        "summary": "google回调",
        "operationId": "googlecode",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GoogleCodeResponse"
            }
          }
        },
        "tags": [
          "apis"
        ]
      }
    },
    "/geturl": {
      "get": {
        "summary": "获取url",
        "operationId": "geturl",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/GooleUrlResponse"
            }
          }
        },
        "tags": [
          "apis"
        ]
      }
    }
  },
  "definitions": {
    "BindStatus": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64",
          "description": " id 解绑时需要"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple"
        },
        "registerType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 直接注册 2 三方登录注册 禁止解除绑定"
        }
      },
      "title": "BindStatus",
      "required": [
        "id",
        "authType",
        "registerType"
      ]
    },
    "BindStatusRequest": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "integer",
          "format": "int64",
          "description": " uid"
        },
        "sign": {
          "type": "string",
          "description": " 签名"
        },
        "time": {
          "type": "integer",
          "format": "int64",
          "description": " 时间戳"
        }
      },
      "title": "BindStatusRequest",
      "required": [
        "uid",
        "sign",
        "time"
      ]
    },
    "BindStatusResponse": {
      "type": "object",
      "properties": {
        "list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BindStatus"
          },
          "description": " 绑定列表"
        }
      },
      "title": "BindStatusResponse",
      "required": [
        "list"
      ]
    },
    "BindUserRequest": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "integer",
          "format": "int64",
          "description": " uid"
        },
        "accountToken": {
          "type": "string",
          "description": " 登录 token"
        },
        "sign": {
          "type": "string",
          "description": " 签名"
        },
        "time": {
          "type": "integer",
          "format": "int64",
          "description": " 时间戳"
        },
        "systemType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 web 2 安卓 3 ios"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple"
        }
      },
      "title": "BindUserRequest",
      "required": [
        "uid",
        "accountToken",
        "sign",
        "time",
        "systemType",
        "authType"
      ]
    },
    "BindUserResponse": {
      "type": "object",
      "title": "BindUserResponse"
    },
    "CallBackRequest": {
      "type": "object",
      "title": "CallBackRequest"
    },
    "CallBackResponse": {
      "type": "object",
      "title": "CallBackResponse"
    },
    "GetUidRequest": {
      "type": "object",
      "properties": {
        "accountToken": {
          "type": "string",
          "description": " 登录 token"
        },
        "systemType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 web 2 安卓 3 ios"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple"
        }
      },
      "title": "GetUidRequest",
      "required": [
        "accountToken",
        "systemType",
        "authType"
      ]
    },
    "GetUidResponse": {
      "type": "object",
      "properties": {
        "uid": {
          "type": "integer",
          "format": "int64",
          "description": " uid"
        },
        "verify": {
          "type": "boolean",
          "format": "boolean",
          "description": " 验证成功 true 失败 false"
        }
      },
      "title": "GetUidResponse",
      "required": [
        "uid",
        "verify"
      ]
    },
    "GoogleCodeRequest": {
      "type": "object",
      "title": "GoogleCodeRequest"
    },
    "GoogleCodeResponse": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple"
        }
      },
      "title": "GoogleCodeResponse",
      "required": [
        "code",
        "authType"
      ]
    },
    "GooleUrlRequest": {
      "type": "object",
      "title": "GooleUrlRequest"
    },
    "GooleUrlResponse": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string"
        }
      },
      "title": "GooleUrlResponse",
      "required": [
        "url"
      ]
    },
    "LoginRequest": {
      "type": "object",
      "properties": {
        "accountToken": {
          "type": "string",
          "description": " 登录 token  (必传)"
        },
        "systemType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 web 2 安卓 3 ios (必传)"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple (必传)"
        },
        "time": {
          "type": "integer",
          "format": "int64",
          "description": " 时间戳 (必传)"
        },
        "deviceId": {
          "type": "string",
          "description": " 设备id (必传)"
        },
        "sign": {
          "type": "string",
          "description": " 签名 (必传)"
        }
      },
      "title": "LoginRequest",
      "required": [
        "accountToken",
        "systemType",
        "authType",
        "time",
        "deviceId",
        "sign"
      ]
    },
    "MonitorRequest": {
      "type": "object",
      "title": "MonitorRequest"
    },
    "MonitorResponse": {
      "type": "object",
      "title": "MonitorResponse"
    },
    "RegisterRequest": {
      "type": "object",
      "properties": {
        "accountToken": {
          "type": "string",
          "description": " 登录验证 token"
        },
        "systemType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 web 2 安卓 3 ios"
        },
        "authType": {
          "type": "integer",
          "format": "int64",
          "description": " 1 google 2 apple"
        },
        "deviceId": {
          "type": "string",
          "description": " 设备id"
        },
        "parentCode": {
          "type": "string"
        },
        "sign": {
          "type": "string",
          "description": " 签名"
        },
        "time": {
          "type": "integer",
          "format": "int64",
          "description": " 时间戳"
        }
      },
      "title": "RegisterRequest",
      "required": [
        "accountToken",
        "systemType",
        "authType",
        "deviceId",
        "sign",
        "time"
      ]
    },
    "UnBindRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64",
          "description": " 绑定列表返回 id"
        },
        "uid": {
          "type": "integer",
          "format": "int64",
          "description": " uid"
        },
        "sign": {
          "type": "string",
          "description": " 签名"
        },
        "time": {
          "type": "integer",
          "format": "int64",
          "description": " 时间戳"
        }
      },
      "title": "UnBindRequest",
      "required": [
        "id",
        "uid",
        "sign",
        "time"
      ]
    },
    "UnBindResponse": {
      "type": "object",
      "title": "UnBindResponse"
    }
  },
  "securityDefinitions": {
    "apiKey": {
      "type": "apiKey",
      "description": "Enter JWT Bearer token **_only_**",
      "name": "Authorization",
      "in": "header"
    }
  }
}
